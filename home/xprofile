## vim: ft=sh
## ~/.xprofile: setup environment before the window manager is started
## ideally should be the first thing executed even before the window manager
## you might need to symlink this to ~/.xsession as some display managers dont source this file
## try to keep this to the bare minimum needed, only things needed for proper initialization
## of the window manager go here, the rest should be started by the wm itself through ~/.xstartup
##
## NOTE: MAKE SURE THIS NEVER BLOCKS OTHERWISE YOU WILL GET STUCK ON LOGIN AND BAD THINGS WILL HAPPEN
## NOTE: Preferably dont fork, as that might not initialize everything before the wm starts

# Keyboard
xset r rate 250 30 # make keyboard more responsive
setxkbmap -option "terminate:ctrl_alt_bksp" # Ctrl-Alt-Backspace kills xorg
setxkbmap -option "caps:swapescape" # Swap escape and caps lock

# Xorg Misc
# turn off display after 5 minutes
xset s blank
xset s 300
xset -b # remove this goddamn torture

# Use native libs for steam
# https://wiki.archlinux.org/index.php/Steam#Using_native_runtime
export STEAM_RUNTIME=0

## Load drop-in config from ~/.xprofile.d
if [ -d "$HOME/.xprofile.d" ]; then
    for file in "$HOME"/.xprofile.d/*; do
        test -f "$file" && source "$file"
    done
fi
